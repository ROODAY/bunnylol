var commonjsGlobal=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};var app={};var commands={};Object.defineProperty(commands,"__esModule",{value:true});commands.COMMANDS=void 0;commands.COMMANDS={gmail:{name:"Gmail",url:"https://mail.google.com/mail/u/0",searchurl:"https://mail.google.com/mail/u/"},gdrive:{name:"Google Drive",url:"https://drive.google.com/drive/u/0",searchurl:"https://drive.google.com/drive/u/"},ghs:{name:"GitHub",url:"https://github.com/",searchurl:"https://www.github.com/search?q="},g:{name:"Google",url:"https://google.com/",searchurl:"https://www.google.com/search?q="},gcal:{name:"Google Calendar",url:"https://calendar.google.com/calendar/r"},wiki:{name:"Wikipedia",url:"https://en.wikipedia.org",searchurl:"https://en.wikipedia.org/wiki/"},DEFAULT:{name:"Default - Google Search",url:"https://google.com/",searchurl:"https://www.google.com/search?q="}};var help={};Object.defineProperty(help,"__esModule",{value:true});help.viewHelpPage=void 0;const commands_js_1$1=commands;const viewHelpPage=function(){const data=Object.keys(commands_js_1$1.COMMANDS).map((command=>{const cmdData=commands_js_1$1.COMMANDS[command];return{name:cmdData.name,url:cmdData.url,command:command}}));const columns=[{data:"command",title:"Command"},{data:"name",title:"Name"},{data:"url",title:"URL"}];$("#help-table").DataTable({data:data,columns:columns,order:[[1,"asc"]],paging:false})};help.viewHelpPage=viewHelpPage;var __awaiter=commonjsGlobal&&commonjsGlobal.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};var _a;Object.defineProperty(app,"__esModule",{value:true});const commands_js_1=commands;const help_js_1=help;const redirect=function(url){return __awaiter(this,void 0,void 0,(function*(){yield window.location.replace(url)}))};const bunnylol=function(currCmd){return __awaiter(this,void 0,void 0,(function*(){let arr=[];if(currCmd.startsWith("$")){arr=currCmd.split(/[ $+]/g);arr[0]="$";if(arr[1]===""){arr=["$"]}}else{arr=currCmd.split(/[ +]/g)}if(arr.length>0){const prefix=arr[0].endsWith(".")?arr[0].substring(0,arr[0].length-1).toLowerCase():arr[0].toLowerCase();if(prefix in commands_js_1.COMMANDS){const commandName=prefix;const command=commands_js_1.COMMANDS[commandName];const protocol=new URL(command.url).protocol;if(protocol!=="https:"&&protocol!=="http:"){(0,help_js_1.viewHelpPage)()}if(command.searchurl&&arr.length!==1){const searchParam=prefix!=="$"?prefix.length+1:prefix.length;yield redirect(`${command.searchurl}${encodeURIComponent(currCmd.substr(searchParam))}`);return true}else{yield redirect(command.url);return true}}}return false}))};const currCmd=(_a=new URL(window.location.href).searchParams.get("search"))!==null&&_a!==void 0?_a:"help";switch(currCmd){case"help":(0,help_js_1.viewHelpPage)();break;default:bunnylol(currCmd).then((done=>{if(!done&&commands_js_1.COMMANDS.DEFAULT.searchurl){redirect(`${commands_js_1.COMMANDS.DEFAULT.searchurl}${encodeURIComponent(currCmd)}`)}})).catch((reject=>{console.log(reject)}));break}export{app as default};